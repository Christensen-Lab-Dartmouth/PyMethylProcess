Anaconda with python 3.6 recommended, with environment sourced
R 3.5.1

Build pymethylprocess

1. Clone the repository
2. python setup.py bdist_wheel && python setup.py sdist
3. pip install dist/pymethylprocess-0.1.tar.gz
4. pymethyl-install_r_dependencies # time to grab a cup of coffee

Dataset: TCGA 450K

Preprocessing:

* nohup pymethyl-preprocess download_tcga
* pymethyl-preprocess download_clinical
* nano include_col.txt
* pymethyl-preprocess create_sample_sheet -is ./tcga_idats/clinical_info.csv -s tcga -i tcga_idats/ -os tcga_idats/samplesheet.csv
* mkdir backup_clinical && mv ./tcga_idats/clinical_info.csv backup_clinical
* pymethyl-preprocess get_categorical_distribution -k disease
* pymethyl-preprocess remove_diseases -is ./tcga_idats/samplesheet.csv -os ./tcga_idats/samplesheet_exclusion.csv -l 11 -d
* pymethyl-preprocess meffil_encode -is ./tcga_idats/samplesheet_exclusion.csv -os ./tcga_idats/final_samplesheet.csv
* pymethyl-preprocess split_preprocess_input_by_subtype -i ../pancancer/final_samplesheet.csv -d
* nohup time pymethyl-preprocess batch_deploy_preprocess -n 6 -c 5 -r -m &
* pymethyl-preprocess combine_methylation_arrays -d ./preprocess_outputs/ -e OV
* pymethyl-utils print_number_sex_cpgs -i combined_outputs/methyl_array.pkl
* pymethyl-utils remove_sex -i combined_outputs/methyl_array.pkl
* pymethyl-utils remove_snps -i autosomal/methyl_array.pkl
* pymethyl-preprocess na_report -i autosomal/methyl_array.pkl -o na_report/
* nohup pymethyl-preprocess imputation_pipeline -i ./no_snp/methyl_array.pkl -o final_preprocessed/methyl_array.pkl -n 200000 -ss -s sklearn -m Mean -k 20 -d -st 0.05 -ct 0.05 &
* mkdir visualizations
* nohup pymethyl-visualize transform_plot -o visualizations/umap_embed.html -c disease_only -nn 8 &
* pymethyl-utils train_test_val_split -tp .8 -vp .125 -cat
* pymethyl-utils counts -i train_val_test_sets
